<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="theme-color" content="#fdfbf7">
    <meta name="description" content="שירות כחוזה, נאכף על ידי מקביליות | פשטות רדיקלית לבני אדם מאת שרון אייכלר">
    <meta name="author" content="שרון אייכלר">
    <title>שירות כחוזה, נאכף על ידי מקביליות | פשטות רדיקלית לבני אדם</title>
    <link rel="stylesheet" href="css/book.css">
</head>
<body>
    <button class="mobile-nav-toggle" aria-label="פתח/סגור תפריט">
        <span></span>
        <span></span>
        <span></span>
    </button>
    <div class="sidebar-overlay"></div>

    <div class="site-container">
        <nav class="sidebar" role="navigation" aria-label="תוכן עניינים">
            <header class="site-header">
                <h1 class="book-title">פשטות רדיקלית<br>לבני אדם</h1>
                <p class="book-subtitle">שכבה 8</p>
                <div class="author-info">
                    <p>שרון אייכלר</p>
                    <p><a href="mailto:saichler@gmail.com">saichler@gmail.com</a></p>
                </div>
                <div class="sponsor-button">
                    <iframe src="https://github.com/sponsors/saichler/button" title="Sponsor saichler" height="32" width="114" style="border: 0; border-radius: 6px;"></iframe>
                </div>
            </header>

            <h2 class="nav-title">תוכן עניינים</h2>
            <ul class="chapter-list">
                <li><a href="book.html">בית</a></li>
                <li><a href="about.html">אודות המחבר</a></li>
                <li><a href="introduction.html">מבוא</a></li>
                <li><a href="thoughts.html">מחשבות</a></li>
                <li><a href="ground-rules.html">כללי יסוד</a></li>
                <li><a href="architecture.html">ארכיטקטורה כמנגנון יישור</a></li>
                <li><a href="failure-modes.html">מצבי כשל</a></li>
                <li><a href="economics.html">כלכלה</a></li>
                <li><a href="security.html">אבטחה</a></li>
                <li><a href="networking.html">רשתות</a></li>
                <li><a href="serialization.html">סריאליזציה</a></li>
                <li><a href="model-agnostic-runtime.html">זמן ריצה אגנוסטי למודל</a></li>
                <li><a href="service-as-contract.html" class="active">שירות כחוזה</a></li>
                <li><a href="api-query-language.html">API ושפת שאילתות</a></li>
                <li><a href="object-relation-mapping.html">מיפוי יחסי אובייקטים</a></li>
                <li><a href="web-server.html">שרת אינטרנט</a></li>
                <li><a href="quality.html">איכות</a></li>
                <li><a href="practice.html">תרגול</a></li>
                <li><span class="coming-soon">פשטות רדיקלית לבינה מלאכותית</span></li>
                <li><span class="coming-soon">מיגרציה</span></li>
            </ul>
        </nav>

        <main class="main-content">
            <div class="content-wrapper">
                <article>
                    <h1>שירות כחוזה, נאכף על ידי מקביליות</h1>

                    <blockquote>
                        <p>הביטוי "כשירות" נמצא בשימוש נרחב ולעתים רחוקות מובן.</p>
                    </blockquote>

                    <p>עבור רוב מהנדסי התוכנה והארכיטקטים, שירותיות אינה דאגת תכנון מדרגה ראשונה. היא אינה נלמדת כחלק מתוכניות לימודים במדעי המחשב, ואינה מודגשת במהלך הצמיחה המקצועית.</p>

                    <p><strong>כתוצאה מכך, מערכות מתוכננות לעתים קרובות ללא חשיבה שירותית מפורשת.</strong></p>

                    <hr>

                    <h2>החשיבה השירותית</h2>

                    <p><strong>חשיבה שירותית</strong> היא גישה ארכיטקטונית המתייחסת להתנהגות תפעולית, נכונות תחת מקביליות, טיפול בכשלים, התאוששות ואבולוציה; כחלק מחוזה השירות, ולא כמחשבה מאוחרת.</p>

                    <p>במקום להניח ששירותים ינוהלו חיצונית באמצעות כלים ונהלים, חשיבה שירותית דורשת ששירותים יצהירו על הערבויות שלהם מראש ומסתמכת על הפלטפורמה לאכוף אותן.</p>

                    <p>במודל זה, נכונות, צפיות ויכולת אבחון הן מאפיינים של הארכיטקטורה עצמה, ולא אחריויות שנדחות למפעילים או להתערבות בזמן ריצה.</p>

                    <p>עם עליית המיקרו-שירותים, פער זה הפך לנראה יותר. בעוד מערכות מפורקות לשירותים, הסכמי רמת שירות (SLA) לעתים רחוקות מוגדרים, ממודלים או נאכפים בזמן תכנון.</p>

                    <p>זה מוביל לכשל תכנוני ביום הראשון.</p>

                    <p>ללא SLA, שירותים הם בסך הכל רכיבים מבוזרים. הם חושפים ממשקי API, <strong>אבל הם לא מספקים ערבויות.</strong></p>

                    <p>בשכבה 8, שירותיות היא יסודית.</p>

                    <p>SLA אינו תיעוד. הוא אינו מחשבה תפעולית מאוחרת. הוא חוזה ארכיטקטוני מרכזי.</p>

                    <p>שכבה 8 מתייחסת ל-SLA כמושג מדרגה ראשונה, הנאכף על ידי הפלטפורמה ומשמש להנעת פשטות רדיקלית בתכנון מערכות.</p>

                    <hr>

                    <h2>מהו שירות?</h2>

                    <p>אחת התפיסות המוטעות הנפוצות ביותר בארכיטקטורת תוכנה מודרנית היא האמונה ששירות הוא תהליך, קונטיינר או פוד.</p>

                    <p><strong>זה לא כך.</strong></p>

                    <p>מה שרץ בתוך תהליך אינו השירות. התייחסות לחפצי זמן ריצה כשירותים היא מקור עיקרי למורכבות מקרית.</p>

                    <p><strong><em>זה מכריח ארכיטקטים לפתור בעיות שלא אמורות להתקיים מלכתחילה.</em></strong></p>

                    <p>תפיסה מוטעית זו מובילה ישירות ל:</p>

                    <ul>
                        <li>צימוד מיותר,</li>
                        <li>אסטרטגיות סקיילינג שבירות,</li>
                        <li>ובלבול מחזור חיים.</li>
                    </ul>

                    <p>שכבה 8 משתמשת בהגדרה שונה.</p>

                    <p>בשכבה 8, שירות מכמס את מחזור החיים של <strong>אובייקט ראשי</strong>.</p>

                    <h3>אובייקט ראשי</h3>

                    <blockquote>
                        <p>אובייקט ראשי הוא השורש של מודל מקונן עם מחזור חיים עצמאי ותמיכה ביצירה, קריאה, עדכון ומחיקה של מצב, והוא מגדיר את יחידת בעלות המקביליות שמאפשרת לשכבה 8 לאכוף מקביליות ברמה הארכיטקטונית ולא בקוד האפליקציה.</p>
                    </blockquote>

                    <p>אם אובייקט יכול להיווצר, להתעדכן, להישאל ולהימחק באופן עצמאי, הוא מוגדר כאובייקט ראשי ולכן מגדיר גבול שירות.</p>

                    <p>שכבה 8 מאמצת את הסמנטיקה המקובלת של RESTful ומשתמשת ב-POST, PUT, PATCH, DELETE ו-GET כממשק האינטראקציה הבסיסי בין שירותים אחרים לאובייקט הראשי שלה.</p>

                    <p><strong>חשוב לציין:</strong> ממשק שירות זה אינו חשוף לעולם החיצון. הוא משמש רק לאינטראקציה בין שירותים בתוך אותה רשת וירטואלית.</p>

                    <h3>שירותים לוגיים לעומת חפצי זמן ריצה</h3>

                    <p>בשכבה 8, שירות הוא מבנה לוגי, לא חפץ זמן ריצה.</p>

                    <p>שירות לוגי מוגדר על ידי בעלותו על אובייקט ראשי, מודל הזהות שלו והסכם רמת השירות המוצהר שלו. הוא מייצג חוזה: כיצד המערכת מתנהגת תחת מקביליות, כשל ואבולוציה.</p>

                    <p>תהליכים, קונטיינרים ופודים הם חפצי זמן ריצה. הם יחידות ביצוע שנוצרו כדי לארח לוגיקת שירות, אך הם אינם השירות עצמו. ניתן להפעיל אותם מחדש, להחליף אותם, לתזמן אותם מחדש או לסקייל אותם מבלי לשנות את זהות השירות או ערבויותיו.</p>

                    <p>בלבול בין חפצי זמן ריצה לשירותים מכריח ארכיטקטים לפתור בעיות מחזור חיים, סקיילינג ומקביליות ברמת התשתית. שכבה 8 נמנעת מכך על ידי התייחסות לחפצי זמן ריצה כמשתתפים הניתנים להחלפה בשירות לוגי יחיד, שהתנהגותו מוגדרת על ידי <strong>חוזה ולא על ידי פריסה.</strong></p>

                    <h3>דוגמה: שירות יחיד</h3>

                    <p>בדוגמה הבאה, יש רק שירות אחד: עובד.</p>

                    <p>לכתובת אין מחזור חיים עצמאי. היא אינה קיימת מחוץ למודל העובד ולכן אינה מגדירה שירות משלה.</p>

<pre><code>message Employee {
  string id = 1;
  Address addr = 2;
}

message Address {
  string line1 = 1;
  string line2 = 2;
  string line3 = 3;
}</code></pre>

                    <h3>דוגמה: שני שירותים</h3>

                    <p>בדוגמה הבאה, לכתובת יש מחזור חיים משלה. ניתן ליצור, לעדכן ולמחוק אותה באופן עצמאי.</p>

                    <p>כתוצאה מכך, היא הופכת לשירות משלה.</p>

<pre><code>message Employee {
  string id = 1;
  string addrId = 2;
}

message Address {
  string addrId = 1;
  string line1 = 2;
  string line2 = 3;
  string line3 = 4;
}</code></pre>

                    <p>שיטה זו של זיהוי שירותים בהתבסס על בעלות מחזור חיים הוכחה כמאפשרת ארכיטקטונית משמעותית.</p>

                    <p>היא מאפשרת לשכבה 8 לספק תמיכה גנרית ב:</p>

                    <ul>
                        <li>מקביליות,</li>
                        <li>יתירות,</li>
                        <li>זמינות גבוהה,</li>
                        <li>וסקיילינג אופקי,</li>
                    </ul>

                    <p>מבלי להכניס לוגיקה ספציפית לשירות, תוך שהיא מאפשרת לשירות יחיד להתפרס על פני מספר תהליכים ולהציג עצמו כשירות לוגי יחיד.</p>

                    <p>מאפיינים אלה צומחים באופן טבעי מהגדרת השירות וייבחנו בהמשך פרק זה.</p>

                    <hr>

                    <h2>מקביליות וטרנזקציות</h2>

                    <p>שלב מכריע בתכנון שירות הוא הגדרת <strong>הסכם רמת השירות (SLA)</strong> שלו.</p>

                    <p>אם שלב זה מדולג, נדחה או מטופל כמחשבה מאוחרת, כשל כמעט מובטח.</p>

                    <p>SLA הוא חוזה עסקי. אם ציפיות אינן מוגדרות מראש, צרכנים יגדירו אותן במקום, וציפיות אלה בדרך כלל יגדלו ללא גבולות.</p>

                    <p><strong>כדי למנוע זאת, שכבה 8 אוכפת מודעות ל-SLA.</strong></p>

                    <p>SLA אינו אופציונלי. הוא קלט נדרש להפעלת שירות.</p>

                    <p>שירות לא יכול להתחיל מבלי להצהיר כיצד הוא מתנהג.</p>

                    <h3>חסר מצב או בעל מצב</h3>

                    <p>ההחלטה הראשונה שעל שירות לקבל היא האם הוא חסר מצב או בעל מצב. נניח שיש שלושה מופעים של שירות הרצים בשלושה תהליכים שונים.</p>

                    <p>אם מופע אחד קורס ומופעל מחדש, שאלו את השאלה הבאה:</p>

                    <blockquote>
                        <p>האם המופע שהופעל מחדש יכול מיד לשרת בקשות מבלי לסנכרן עם שני האחרים ומבלי לשבור נכונות?</p>
                    </blockquote>

                    <p>אם התשובה היא כן, השירות הוא <strong>חסר מצב</strong>.</p>
                    <p>אם התשובה היא לא, השירות הוא <strong>בעל מצב</strong>.</p>

                    <p>החלטה זו משפיעה ישירות על מקביליות, התאוששות וסמנטיקת טרנזקציות.</p>

                    <h3>פריט שירות</h3>

                    <p>קבענו קודם לכן ששירות מכמס <strong>אובייקט ראשי</strong>.</p>

                    <p>השאלה הבאה היא: מה מזהה באופן ייחודי מופע של אותו אובייקט ראשי?</p>

                    <blockquote>
                        <p>בתוך האובייקט הראשי, תכונה אחת או יותר חייבות להגדיר זהות.</p>
                    </blockquote>

                    <p>תכונות אלה מרכיבות את מפתח פריט השירות.</p>

                    <p>מקביליות, ניתוב וערבויות טרנזקציוניות מוחלים כולם יחסית לזהות זו.</p>

                    <h3>שיטות מקביליות עם מצב</h3>

                    <blockquote>
                        <p>עבור שירותים בעלי מצב, ה-SLA חייב להגדיר את מודל המקביליות.</p>
                    </blockquote>

                    <p>שכבה 8 תומכת בדפוסים הבאים.</p>

                    <h4>מאמץ מיטבי</h4>

                    <p>מופעים מרובים עשויים לקבל בקשות.</p>

                    <p>כאשר מופע מעבד בקשה, הוא מאשר השלמה לקורא ועושה מאמץ מיטבי להפיץ את העדכון לעמיתיו.</p>

                    <p>מודל זה מעדיף זמינות וזמן תגובה נמוך, אך מאפשר חוסר עקביות זמני.</p>

                    <h4>טרנזקציוני</h4>

                    <p>מופע יחיד נבחר כמוביל.</p>

                    <p>כל הבקשות מנותבות דרך המוביל, אשר מתאם עדכונים עם העוקבים שלו.</p>

                    <p>כאשר המוביל מאשר השלמה, כל העמיתים כבר מסונכרנים.</p>

                    <p>מודל זה מעדיף עקביות על פני זמינות.</p>

                    <h4>ספירת רפליקציה X</h4>

                    <p>מופע יחיד נבחר כמוביל.</p>

                    <p>בקשות מנותבות למוביל, אשר מתאם עדכונים עם מספר מוגדר של עוקבים.</p>

                    <p>השלמה מאושרת רק לאחר ש-X עמיתים סינכרנו את הנתונים בהצלחה.</p>

                    <p>מודל זה מאפשר שליטה מדויקת באיזון בין:</p>

                    <ul>
                        <li>עקביות,</li>
                        <li>זמינות,</li>
                        <li>וזמן תגובה.</li>
                    </ul>

                    <h3>בחירות SLA והתנהגות נצפית</h3>

                    <p>הטבלה הבאה מסכמת כיצד הצהרות SLA בשכבה 8 מתורגמות ישירות להתנהגות מערכת נצפית.</p>

                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>בחירת SLA</th>
                                    <th>הצהרה</th>
                                    <th>התנהגות נצפית</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>סוג שירות</td>
                                    <td>חסר מצב</td>
                                    <td>כל מופע יכול לשרת בקשות מיד לאחר הפעלה מחדש; לא נדרש סנכרון</td>
                                </tr>
                                <tr>
                                    <td>סוג שירות</td>
                                    <td>בעל מצב</td>
                                    <td>מופעים חייבים לתאם מצב; הפעלה מחדש עשויה לדרוש סנכרון</td>
                                </tr>
                                <tr>
                                    <td>מודל מקביליות</td>
                                    <td>מאמץ מיטבי</td>
                                    <td>בקשות מושלמות במהירות; חוסר עקביות זמני בין מופעים אפשרי</td>
                                </tr>
                                <tr>
                                    <td>מודל מקביליות</td>
                                    <td>טרנזקציוני</td>
                                    <td>בקשות מאושרות רק לאחר סנכרון כל העמיתים; עקביות חזקה</td>
                                </tr>
                                <tr>
                                    <td>מודל מקביליות</td>
                                    <td>ספירת רפליקציה X</td>
                                    <td>בקשות מושלמות לאחר שX רפליקות מאשרות; עקביות מול זמן תגובה מכוונן</td>
                                </tr>
                                <tr>
                                    <td>מנהיגות</td>
                                    <td>ללא</td>
                                    <td>בקשות עשויות להיות מטופלות על ידי כל מופע</td>
                                </tr>
                                <tr>
                                    <td>מנהיגות</td>
                                    <td>מוביל נבחר</td>
                                    <td>כל הכתיבות מנותבות דרך המוביל; המנהיגות עשויה להשתנות בשקיפות</td>
                                </tr>
                                <tr>
                                    <td>רפליקציה</td>
                                    <td>מושבתת</td>
                                    <td>מופע סמכותי יחיד לכל פריט שירות</td>
                                </tr>
                                <tr>
                                    <td>רפליקציה</td>
                                    <td>מופעלת</td>
                                    <td>קיימות רפליקות מרובות; מיקום ומספר נאכפים על ידי הפלטפורמה</td>
                                </tr>
                                <tr>
                                    <td>טיפול בכשלים</td>
                                    <td>כשל מופע</td>
                                    <td>מופע מוחלף מבלי לשנות את זהות השירות</td>
                                </tr>
                                <tr>
                                    <td>טיפול בכשלים</td>
                                    <td>כשל מוביל</td>
                                    <td>מוביל חדש נבחר ללא הפרעה הנראית ללקוח</td>
                                </tr>
                                <tr>
                                    <td>אישור</td>
                                    <td>מיידי</td>
                                    <td>הקורא עשוי לצפות בקריאות מיושנות לזמן קצר</td>
                                </tr>
                                <tr>
                                    <td>אישור</td>
                                    <td>לאחר סנכרון</td>
                                    <td>הקורא צופה רק במצב מחויב ומסונכרן</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <hr>

                    <h2>מקביליות כשירות</h2>

                    <blockquote>
                        <p>בשכבה 8, מקביליות אינה מיושמת על ידי לוגיקת אפליקציה.<br>
                        היא אינה ממוצאת מחדש לכל שירות.<br>
                        היא אינה מנוחשת בזמן ריצה.</p>
                    </blockquote>

                    <p>מקביליות מוצהרת כחלק מה-SLA ונאכפת על ידי הפלטפורמה.</p>

                    <p>השירות מביע כוונה. שכבה 8 מחילה את החוזה.</p>

                    <p><strong>מקביליות מסופקת, לא ממוצאת.</strong></p>

                    <h3>מה קוד האפליקציה כבר לא מיישם</h3>

                    <p>מכיוון שהתנהגות שירות בשכבה 8 מוצהרת דרך ה-SLA ונאכפת על ידי הפלטפורמה, קוד האפליקציה כבר אינו אחראי ליישום דאגות תפעוליות מרכזיות.</p>

                    <p>באופן ספציפי, קוד האפליקציה אינו מיישם:</p>

                    <ul>
                        <li>בקרת מקביליות או סמנטיקת נעילה,</li>
                        <li>בחירת מוביל או מעבר מנהיגות,</li>
                        <li>תיאום רפליקציה או טיפול בקוורום,</li>
                        <li>סנכרון מצב בין מופעים,</li>
                        <li>קוהרנטיות מטמון או העתקה הגנתית,</li>
                        <li>לוגיקת ניסיון חוזר לפיצוי על כשל חלקי,</li>
                        <li>שמירות אידמפוטנטיות לבקשות חוזרות,</li>
                        <li>גילוי מופעים או מודעות לעמיתים,</li>
                        <li>התאמת מחזור חיים לאחר הפעלות מחדש או קריסות.</li>
                    </ul>

                    <p>קוד האפליקציה מוגבל להבעת התנהגות תחומית כנגד הפשטת שירות לוגי יחיד.</p>

                    <p>נכונות תפעולית מובטחת על ידי הפלטפורמה, לא מיושמת מחדש על ידי כל שירות. כתוצאה מכך, יישומי שירות נשארים קטנים, דטרמיניסטיים ועצמאיים מטופולוגיית הפריסה.</p>

                    <hr>

                    <h2>שירות בסיס</h2>

                    <p>ככל ששכבה 8 התפתחה, ושירותי תשתית נוספים נבנו באמצעות אותן הנחיות תכנון, דפוס החל להתגלות.</p>

                    <p>יישומי שירות חזרו על עצמם.</p>

                    <p>ניתוח קוהרנטיות נוסף חשף שבין שירותים, רוב קוד היישום היה למעשה זהה.</p>

                    <p>רק הכוונה המוצהרת וה-SLA השתנו משירות לשירות.</p>

                    <p>דרך מחזורים חוזרים של:</p>

                    <ul>
                        <li>ניתוח קוהרנטיות,</li>
                        <li>ריפקטורינג,</li>
                        <li>ואימות מחדש,</li>
                    </ul>

                    <p>שירות הבסיס של שכבה 8 התגבש.</p>

                    <p>שירות הבסיס לוכד התנהגות משותפת ביישום יחיד, גנרי ומבוסס היטב.</p>

                    <p>כתוצאה מכך, יישום שירות כבר לא דורש כתיבת לוגיקת שירות.</p>

                    <p>שירות מוגדר על ידי הצהרת ה-SLA שלו.</p>

                    <p>הפלטפורמה מספקת את השאר.</p>

                    <h3>מטמון מבוזר</h3>

                    <p>בליבת שירות הבסיס נמצא מטמון מבוזר שתוכנן לנכונות תחת מקביליות.</p>

                    <p>המטמון מבטיח גם בטיחות תהליכונים וגם שינוי מקבילי בטוח על ידי שילוב שתי טכניקות:</p>

                    <ul>
                        <li>סנכרון מבוסס מיוטקס,</li>
                        <li>ושיבוט הגנתי.</li>
                    </ul>

                    <p>מיוטקס קריאה-כתיבה מאפשר למספר גורוטינים לקרוא בו-זמנית, תוך הבטחה שלפעולות כתיבה יש גישה בלעדית.</p>

                    <p>עם זאת, מיוטקסים לבדם אינם מספיקים.</p>

                    <p>גם עם נעילה תקינה, קורא יכול לשנות אובייקט לאחר שליפתו מהמטמון, ובכך להשחית בשקט מצב משותף.</p>

                    <p>כדי למנוע זאת, המטמון משבט כל ערך:</p>

                    <ul>
                        <li>פעם אחת בעת אחסונו,</li>
                        <li>ושוב בעת שליפתו.</li>
                    </ul>

                    <p>קוראים תמיד מתקשרים עם עותקים עצמאיים. הם לעולם לא מקבלים הפניות ישירות לנתונים במטמון.</p>

                    <p>תכנון זה מבטיח ש:</p>

                    <ul>
                        <li>שינויים שנעשו על ידי גורוטין אחד לעולם אינם משפיעים על אחרים,</li>
                        <li>מצב משותף לא יכול להישחת בטעות,</li>
                        <li>וקוראים לא צריכים לנהל סנכרון בעצמם.</li>
                    </ul>

                    <p>התוצאה היא בידוד מלא עם עומס קוגניטיבי מינימלי.</p>

                    <p>שירות הבסיס מגלם את הפילוסופיה המרכזית של שכבה 8:</p>

                    <ul>
                        <li>הצהר כוונה,</li>
                        <li>אכוף ערבויות,</li>
                        <li>ובטל מורכבות מקרית.</li>
                    </ul>

                    <hr>

                    <h2>מנהל שירות</h2>

                    <blockquote>
                        <p>מנהל השירות אחראי למחזור החיים של שירות.</p>
                    </blockquote>

                    <p>הוא מתזמר הפעלת שירות, תיאום וסיום, ומשמש כמישור הבקרה שמקשר יחד את תת-המערכות המרכזיות של שכבה 8.</p>

                    <p>באופן ספציפי, מנהל השירות מתאם בין:</p>

                    <ul>
                        <li>שכבת הרשת הוירטואלית המאובטחת,</li>
                        <li>הנחיות ומדיניות האבטחה,</li>
                        <li>ומודל המקביליות המוצהר שמוגדר על ידי SLA השירות.</li>
                    </ul>

                    <p>מנהל השירות מתחזק את רישום עמיתי המשתתפים בשירות, ועוקב אחר כל המופעים הפעילים המשתתפים בשירות.</p>

                    <p>כאשר נדרש על ידי ה-SLA, הוא מבצע בחירת מוביל ומנהל מעברי מנהיגות בשקיפות.</p>

                    <p>מנהיגות מטופלת כתפקיד, לא כזהות, ויכולה לעבור מבלי לשנות את חזית השירות.</p>

                    <p>דרך מנגנון זה, שירותים נשארים:</p>

                    <ul>
                        <li>יחידים לוגית,</li>
                        <li>מבוזרים תפעולית,</li>
                        <li>ותואמים לערבויות המוצהרות שלהם.</li>
                    </ul>

                    <p>מנהל השירות מבטיח שהתנהגות השירות עוקבת אחר כוונה, <strong>לא אחר חפצי פריסה</strong>.</p>

                    <hr>

                    <h2>שירות אינדקס רפליקציה</h2>

                    <p>כאשר שירות מצהיר על שארדינג או ספירת רפליקציה כחלק מה-SLA שלו, שכבה 8 מספקת שירות אינדקס רפליקציה מובנה.</p>

                    <p>שירות זה עוקב ומתאם רפליקציה בהתאם לערבויות שהוגדרו על ידי ה-SLA.</p>

                    <p>כאשר רפליקציה מופעלת, שירות אינדקס הרפליקציה מופעל אוטומטית.</p>

                    <p>הוא מתחזק תצוגה עקבית של:</p>

                    <ul>
                        <li>אילו מופעי שירות מחזיקים רפליקות,</li>
                        <li>כמה רפליקות קיימות לכל פריט שירות,</li>
                        <li>וכיצד אחריויות הרפליקציה מחולקות.</li>
                    </ul>

                    <p>שירות אינדקס הרפליקציה עובד בתיאום עם:</p>

                    <ul>
                        <li>מנהל השירות,</li>
                        <li>מודל המקביליות המוצהר,</li>
                        <li>ושכבת הרשת הוירטואלית המאובטחת.</li>
                    </ul>

                    <p>מצב רפליקציה אינו מוסק. הוא נעקב ונאכף באופן מפורש.</p>

                    <p>על ידי החצנת תיאום הרפליקציה לשירות ייעודי, שכבה 8 נמנעת מהטמעת לוגיקת רפליקציה בקוד האפליקציה.</p>

                    <p>רפליקציה מוצהרת.<br>
                    האינדקס מתוחזק.<br>
                    העקביות עוקבת אחר החוזה.</p>

                    <nav class="chapter-nav">
                        <a href="model-agnostic-runtime.html" class="prev">זמן ריצה אגנוסטי למודל</a>
                        <a href="api-query-language.html" class="next">API ושפת שאילתות</a>
                    </nav>
                </article>
            </div>
        </main>
    </div>

    <script src="js/book.js"></script>
</body>
</html>
